# Guide

## å¯¼èˆª1

:::info
* è®¡ç®—æ—¶é—´ï¼šä¸€ä¸ªä»»åŠ¡æ—¶é—´è¿‡é•¿ï¼ˆé•¿ä»»åŠ¡ï¼‰ï¼ˆæ—¶é—´å¤æ‚ï¼‰
* å†…å­˜ç©ºé—´ï¼šå°±æ˜¯å ç”¨å†…å­˜ç©ºé—´ã€‚ï¼ˆç©ºé—´å¤æ‚ï¼‰
* é€šè¿‡åˆ‡å…¥ç‚¹ï¼š
    - **é€šè¿‡åˆ‡å…¥ç‚¹æ“ä½œå¡é¡¿ï¼ˆä¹Ÿæ˜¯é•¿ä»»åŠ¡ï¼‰**=ã€‹performanceæ’æŸ¥ï¼›ï¼ˆçœ‹äº†æœˆå½±çš„éƒ½æ˜¯é€šè¿‡å¡é¡¿å’Œlongtaskåˆ‡å…¥çš„ï¼‰
    - åˆ‡ç‚¹lighthouse=ã€‹performanceæ’æŸ¥ï¼›
    - äº§ç”Ÿçš„longtaskåœºæ™¯å¾ˆå¤šï¼šdomè®¡ç®—ã€å›æµã€å•çº¯çš„jså¤§é‡æ•°æ®è®¡ç®—ï¼›vue-reactçš„re-renderã€patchç­‰ç­‰ã€‚
* æœåŠ¡ç«¯æ¸²æŸ“è¿˜æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼šå‚è€ƒpagespeedå°±è¡Œäº†ã€‚ä¸ä¸€å®šå¤æ‚å¤§ç»„ä»¶è¿ç®—æ¯”è¾ƒé«˜çš„ä¹Ÿåœ¨æœåŠ¡ç«¯æ¸²æŸ“ã€‚
    - æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå¦‚æœæ¸²æŸ“é¡µé¢ï¼Œå¦‚æœæ—¶é—´å¾ˆé•¿ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ„æ€
* å¦‚æœæ˜¯èµ„æºä¸‹è½½ä»»åŠ¡ï¼Œæ˜¯å¦å¯ä»¥æ‹†è§£åŒ…ï¼›å¦‚æœæ˜¯è®¡ç®—è¿è¡Œæ˜¯å¦å¯ä»¥åˆ†æ‹†åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ä¸­ã€‚è¿™æ˜¯ç®€å•çš„æ€è·¯ï¼Œçœ‹çœ‹æœˆå½±é‚£å‡ ç¯‡æ–‡ç« å°±é•¿è§è¯†äº†ã€‚ğŸ˜„
:::

### ã€Nextjsé¡µé¢æ€§èƒ½ä¼˜åŒ–ã€‘ï¼ˆæƒ³getä½†æ²¡æ’ä»¶åŒ…ä¼˜å…ˆçº§é«˜ï¼‰
* ï¼ˆç›®å½•ï¼šbrowseræ€§èƒ½ä¼˜åŒ–ã€browserChrome å¯¼èˆªï¼‰
* *Next.js ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯å‡å°‘69% https://juejin.cn/post/7347983259584282675
* æ€§èƒ½ä¼˜åŒ–â€”â€”æŠŠé‡æ’ã€é‡ç»˜ã€åˆæˆæ°å¼€äº†ã€æ‰ç¢äº†å­¦ https://weijunext.com/article/f30c20a3-f8b0-41bf-8be6-25ebcfebde80
* *https://hutaod.github.io/blog/web-performance-understand
* https://hutaod.github.io/blog/web-performance-practice


### ã€dev_zuo vue3 table æ€§èƒ½ä¼˜åŒ–ï¼Œå‡å°‘ 85% æ¸²æŸ“è€—æ—¶ã€‘
- æœ‰æ–‡ç« ã€è§†é¢‘ã€githubdemoï¼ˆè‡ªå·±é‡åšä¸€éå­¦ä¹ ï¼‰
- éå¸¸å¥½ï¼Œè™½ç„¶è¡¨è¾¾ä¸Šæè¿°ï¼Œæ„Ÿè§‰ä¸åˆç†æˆ–è€…ä¸å¥½ç†è§£ç‚¹åœ¨å“ªé‡Œï¼Œä½†æ•´ä½“è¿˜æ˜¯å¾ˆåˆ°ä½ã€‚

https://juejin.cn/post/7194516447932973112

https://www.bilibili.com/video/BV1tR4y1872M/ 

### æœˆå½±2022ï¼ˆå¥½ç‰›bå•Šï¼Œä¸‹é¢è¿™å‡ ç¯‡æ–‡ç« ç›´æ¥copyä¸€ä»½å¤‡ä»½å•Šï¼Œæ€æƒ³å’Œæ’æŸ¥è¿‡ç¨‹å€¼å¾—å­¦ä¹ ï¼‰

ã€é€šè¿‡Chrome-DevTools çœ‹jsçš„äº‹ä»¶å¾ªç¯ã€‘ https://juejin.cn/post/7131259803589935112 ï¼ˆå¯ç†è§£å¦‚ä½•ç”¨Performanceè§‚å¯Ÿä»»åŠ¡æ‰§è¡Œï¼Œjsæ‰§è¡Œã€domæ¸²æŸ“ç­‰ï¼‰

ã€æ€§èƒ½ä¼˜åŒ–ä¹‹longtaskæ²»ç†(å®é™…é¡¹ç›®)ã€‘https://juejin.cn/post/7240297635428565050

ã€æ€§èƒ½ä¼˜åŒ–ä¹‹Recalculate Styleè€—æ—¶è¿‡é•¿ã€‘https://juejin.cn/post/7252255706934083621ï¼ˆå›æµï¼‰
- æœ€è¿‘å…¬å¸é¡¹ç›®`longtask`å¡é¡¿æ²»ç†ä¸­ï¼Œå¤§éƒ¨åˆ†å¡ç‚¹éƒ½åœ¨Recalculate Styleè€—æ—¶è¿‡é•¿ï¼Œç»å¸¸å„ç§500msä»¥ä¸Šçš„longtaskï¼Œç”šè‡³å„ç§1sä»¥ä¸Šçš„longtaskã€‚
æ€»ç»“ï¼š
1. æˆ‘ä»¬çš„é¡¹ç›®åœ¨å›æµæ—¶å€™ï¼Œå¹¶ä¸åƒå„ç§å…«è‚¡æ–‡é‡Œæåˆ°çš„layoutè€—æ—¶é•¿ï¼Œè€Œæ˜¯Recalculate Styleè€—æ—¶é•¿ï¼Œæ„Ÿè§‰ä¸»è¦åŸå› è¿˜æ˜¯cssè§„åˆ™å¤ªå¤šäº†ï¼Œå‡ ä¸‡æ¡cssè§„åˆ™ï¼Œä¸€æ—¦éœ€è¦å›æµçš„å…ƒç´ æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆé‡æ–°åŒ¹é…å°±æ˜¯M*Nçš„å…³ç³»ï¼Œå›æµå…ƒç´ æ•°*cssè§„åˆ™æ•°ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦å°½é‡å‡å°‘cssè§„åˆ™æ•°ï¼Œå°¤å…¶è¿™ç§å¾®åº”ç”¨+å„ç§å†…éƒ¨npmåŒ…+æ¨¡å—è”é‚¦çš„é¡¹ç›®ã€‚
2. cssè§„åˆ™å°½é‡è¦ç®€å•ï¼ŒåŒ¹é…è·¯å¾„è¦å°½é‡çŸ­ï¼Œå°½é‡å‡å°‘ä½¿ç”¨å…„å¼Ÿé€‰æ‹©å™¨ã€not()ã€nth-child()è¿™ç±»çš„å¤æ‚é€‰æ‹©å™¨ï¼Œè¿™ç§é€‰æ‹©å¦‚æœblinkå¼•æ“åœ¨æ„å»ºå¤±æ•ˆé›†æ—¶åšçš„ä¼˜åŒ–å¹¶ä¸å½»åº•æˆ–è€…æœªåšä¼˜åŒ–ï¼Œä¼šå¯¼è‡´å¤§é‡èŠ‚ç‚¹çš„å›æµã€‚

ã€æ€§èƒ½ä¼˜åŒ–ï¼šæ ‘å½¢ç»„ä»¶treeä¸€æ¬¡é’ˆå¯¹å¤§é‡æ•°æ®çš„ä¼˜åŒ–ã€‘https://juejin.cn/post/7301907369906880549
- æœ‰ä¸€å¤©ä½“éªŒå…¬å¸é¡¹ç›®ï¼Œå½•åˆ¶performanceæ—¶å€™ï¼Œå‘ç°ä¸€æ®µé¢„æœŸä¹‹å¤–`longtask`ï¼Œæ˜¯ä¸€ä¸ªç­›é€‰é¡¹ï¼Œä½¿ç”¨uiåº“çš„treeSelectç»„ä»¶æ¸²æŸ“çš„(å¤§ä½“æ ·å¼å¦‚ä¸‹é¢æˆªå›¾)ï¼Œç‚¹è¿™ä¸ªç­›é€‰é¡¹åœ¨å…¶è¿›è¡Œæ¸²æŸ“æ—¶æœ‰ä¸€æ®µæ¯”è¾ƒå¤¸å¼ çš„longtaskï¼Œè€—æ—¶é«˜è¾¾600mså·¦å³ã€‚

äºŒï¼šé—®é¢˜è§£å†³
æ­¤æ®µlontaskçš„ç”±æ¥ä¸»è¦æ˜¯ä¸‰ä¸ªåŸå› ï¼š
- æ˜¯ä¸€ä¸ªå¤§å¯¹è±¡
- è¿™ä¸ªå¤§å¯¹è±¡ç»è¿‡mobxåŒ…è£…ï¼Œç»™å¯¹è±¡é€’å½’çš„åŠ äº†å±‚å±‚ä»£ç†proxyã€‚å–å€¼æ—¶å€™è‡ªç„¶å¤šä¸€å±‚ã€‚
- uiåº“çš„treeSelectç»„ä»¶é‡Œåœ¨è¿›è¡ŒtreeDataçš„isEqualæ¯”è¾ƒæ—¶å€™ï¼Œä¸‰æ¬¡è°ƒç”¨ã€‚

é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œè§£å†³åŠæ³•ä¹Ÿæ¯”è¾ƒç®€å•äº†ï¼š
- å°†æ­¤ç­›é€‰é¡¹çš„å¤§å¯¹è±¡ï¼Œè®¾ç½®ä¸ºä¸å¯è§‚å¯Ÿï¼Œå»æ‰proxyã€‚
- ç»„ä»¶åº“å¯¹treeSelectç»„ä»¶è¿›è¡Œä¿®å¤ï¼Œå°†ä¸‰æ¬¡isEqualçš„è°ƒç”¨æ”¹ä¸ºä¸€æ¬¡è°ƒç”¨å³å¯ã€‚


### é‚£ä¸ªåˆ†äº«å¼¹çª—åº”è¯¥ä¹Ÿæ˜¯longtask


## å¯¼èˆª2
https://juejin.cn/post/7197025946918502456

cmd +  shift + p => fps

Performanceå¯¹è±¡https://www.bilibili.com/video/BV1wP4y187fJ

https://www.bilibili.com/video/BV1Pr4y1N7QZ

å‰ç«¯é¡µé¢æ€§èƒ½æµ‹è¯•å·¥å…·lighthouse
https://www.bilibili.com/video/BV1bm4y1S7MXï¼ˆä¸€èˆ¬åªæ˜¯ä»‹ç»äº†æ¦‚å¿µï¼Œæ²¡æœ‰è°ƒè¯•ã€‚1.9*ï¼‰

æé¹å‘¨ 13.ä½¿ç”¨æµè§ˆå™¨DevToolsåˆ†ææ€§èƒ½-Performanceé¢æ¿ https://www.bilibili.com/video/BV1C8411V7y2


