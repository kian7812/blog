# Guide

## å¯¼èˆª 1

:::info

- è®¡ç®—æ—¶é—´ï¼šä¸€ä¸ªä»»åŠ¡æ—¶é—´è¿‡é•¿ï¼ˆé•¿ä»»åŠ¡ï¼‰ï¼ˆæ—¶é—´å¤æ‚ï¼‰
- å†…å­˜ç©ºé—´ï¼šå°±æ˜¯å ç”¨å†…å­˜ç©ºé—´ã€‚ï¼ˆç©ºé—´å¤æ‚ï¼‰
- é€šè¿‡åˆ‡å…¥ç‚¹ï¼š
  - **é€šè¿‡åˆ‡å…¥ç‚¹æ“ä½œå¡é¡¿ï¼ˆä¹Ÿæ˜¯é•¿ä»»åŠ¡ï¼‰**=ã€‹performance æ’æŸ¥ï¼›ï¼ˆçœ‹äº†æœˆå½±çš„éƒ½æ˜¯é€šè¿‡å¡é¡¿å’Œ longtask åˆ‡å…¥çš„ï¼‰
  - åˆ‡ç‚¹ lighthouse=ã€‹performance æ’æŸ¥ï¼›
  - äº§ç”Ÿçš„ longtask åœºæ™¯å¾ˆå¤šï¼šdom è®¡ç®—ã€å›æµã€å•çº¯çš„ js å¤§é‡æ•°æ®è®¡ç®—ï¼›vue-react çš„ re-renderã€patch ç­‰ç­‰ã€‚
- æœåŠ¡ç«¯æ¸²æŸ“è¿˜æ˜¯å®¢æˆ·ç«¯æ¸²æŸ“ï¼šå‚è€ƒ pagespeed å°±è¡Œäº†ã€‚ä¸ä¸€å®šå¤æ‚å¤§ç»„ä»¶è¿ç®—æ¯”è¾ƒé«˜çš„ä¹Ÿåœ¨æœåŠ¡ç«¯æ¸²æŸ“ã€‚
  - æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå¦‚æœæ¸²æŸ“é¡µé¢ï¼Œå¦‚æœæ—¶é—´å¾ˆé•¿ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ„æ€
- å¦‚æœæ˜¯èµ„æºä¸‹è½½ä»»åŠ¡ï¼Œæ˜¯å¦å¯ä»¥æ‹†è§£åŒ…ï¼›å¦‚æœæ˜¯è®¡ç®—è¿è¡Œæ˜¯å¦å¯ä»¥åˆ†æ‹†åˆ°ä¸‹ä¸€ä¸ªä»»åŠ¡ä¸­ã€‚è¿™æ˜¯ç®€å•çš„æ€è·¯ï¼Œçœ‹çœ‹æœˆå½±é‚£å‡ ç¯‡æ–‡ç« å°±é•¿è§è¯†äº†ã€‚ğŸ˜„
  :::

### ã€Nextjs é¡µé¢æ€§èƒ½ä¼˜åŒ–ã€‘ï¼ˆæƒ³ get ä½†æ²¡æ’ä»¶åŒ…ä¼˜å…ˆçº§é«˜ï¼‰

- ï¼ˆç›®å½•ï¼šbrowser æ€§èƒ½ä¼˜åŒ–ã€browserChrome å¯¼èˆªï¼‰
- \*Next.js ä¼˜åŒ–æ‰“åŒ…ä½“ç§¯å‡å°‘ 69% https://juejin.cn/post/7347983259584282675
- æ€§èƒ½ä¼˜åŒ–â€”â€”æŠŠé‡æ’ã€é‡ç»˜ã€åˆæˆæ°å¼€äº†ã€æ‰ç¢äº†å­¦ https://weijunext.com/article/f30c20a3-f8b0-41bf-8be6-25ebcfebde80
- \*https://hutaod.github.io/blog/web-performance-understand
- https://hutaod.github.io/blog/web-performance-practice

### ã€dev_zuo vue3 table æ€§èƒ½ä¼˜åŒ–ï¼Œå‡å°‘ 85% æ¸²æŸ“è€—æ—¶ã€‘

- æœ‰æ–‡ç« ã€è§†é¢‘ã€githubdemoï¼ˆè‡ªå·±é‡åšä¸€éå­¦ä¹ ï¼‰
- éå¸¸å¥½ï¼Œè™½ç„¶è¡¨è¾¾ä¸Šæè¿°ï¼Œæ„Ÿè§‰ä¸åˆç†æˆ–è€…ä¸å¥½ç†è§£ç‚¹åœ¨å“ªé‡Œï¼Œä½†æ•´ä½“è¿˜æ˜¯å¾ˆåˆ°ä½ã€‚

https://juejin.cn/post/7194516447932973112

https://www.bilibili.com/video/BV1tR4y1872M/

### æœˆå½± 2022ï¼ˆå¥½ç‰› b å•Šï¼Œä¸‹é¢è¿™å‡ ç¯‡æ–‡ç« ç›´æ¥ copy ä¸€ä»½å¤‡ä»½å•Šï¼Œæ€æƒ³å’Œæ’æŸ¥è¿‡ç¨‹å€¼å¾—å­¦ä¹ ï¼‰

ã€é€šè¿‡ Chrome-DevTools çœ‹ js çš„äº‹ä»¶å¾ªç¯ã€‘ https://juejin.cn/post/7131259803589935112 ï¼ˆå¯ç†è§£å¦‚ä½•ç”¨ Performance è§‚å¯Ÿä»»åŠ¡æ‰§è¡Œï¼Œjs æ‰§è¡Œã€dom æ¸²æŸ“ç­‰ï¼‰

ã€æ€§èƒ½ä¼˜åŒ–ä¹‹ longtask æ²»ç†(å®é™…é¡¹ç›®)ã€‘https://juejin.cn/post/7240297635428565050

ã€æ€§èƒ½ä¼˜åŒ–ä¹‹ Recalculate Style è€—æ—¶è¿‡é•¿ã€‘https://juejin.cn/post/7252255706934083621ï¼ˆå›æµï¼‰

- æœ€è¿‘å…¬å¸é¡¹ç›®`longtask`å¡é¡¿æ²»ç†ä¸­ï¼Œå¤§éƒ¨åˆ†å¡ç‚¹éƒ½åœ¨ Recalculate Style è€—æ—¶è¿‡é•¿ï¼Œç»å¸¸å„ç§ 500ms ä»¥ä¸Šçš„ longtaskï¼Œç”šè‡³å„ç§ 1s ä»¥ä¸Šçš„ longtaskã€‚
  æ€»ç»“ï¼š

1. æˆ‘ä»¬çš„é¡¹ç›®åœ¨å›æµæ—¶å€™ï¼Œå¹¶ä¸åƒå„ç§å…«è‚¡æ–‡é‡Œæåˆ°çš„ layout è€—æ—¶é•¿ï¼Œè€Œæ˜¯ Recalculate Style è€—æ—¶é•¿ï¼Œæ„Ÿè§‰ä¸»è¦åŸå› è¿˜æ˜¯ css è§„åˆ™å¤ªå¤šäº†ï¼Œå‡ ä¸‡æ¡ css è§„åˆ™ï¼Œä¸€æ—¦éœ€è¦å›æµçš„å…ƒç´ æ¯”è¾ƒå¤šï¼Œé‚£ä¹ˆé‡æ–°åŒ¹é…å°±æ˜¯ M*N çš„å…³ç³»ï¼Œå›æµå…ƒç´ æ•°*css è§„åˆ™æ•°ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦å°½é‡å‡å°‘ css è§„åˆ™æ•°ï¼Œå°¤å…¶è¿™ç§å¾®åº”ç”¨+å„ç§å†…éƒ¨ npm åŒ…+æ¨¡å—è”é‚¦çš„é¡¹ç›®ã€‚
2. css è§„åˆ™å°½é‡è¦ç®€å•ï¼ŒåŒ¹é…è·¯å¾„è¦å°½é‡çŸ­ï¼Œå°½é‡å‡å°‘ä½¿ç”¨å…„å¼Ÿé€‰æ‹©å™¨ã€not()ã€nth-child()è¿™ç±»çš„å¤æ‚é€‰æ‹©å™¨ï¼Œè¿™ç§é€‰æ‹©å¦‚æœ blink å¼•æ“åœ¨æ„å»ºå¤±æ•ˆé›†æ—¶åšçš„ä¼˜åŒ–å¹¶ä¸å½»åº•æˆ–è€…æœªåšä¼˜åŒ–ï¼Œä¼šå¯¼è‡´å¤§é‡èŠ‚ç‚¹çš„å›æµã€‚

ã€æ€§èƒ½ä¼˜åŒ–ï¼šæ ‘å½¢ç»„ä»¶ tree ä¸€æ¬¡é’ˆå¯¹å¤§é‡æ•°æ®çš„ä¼˜åŒ–ã€‘https://juejin.cn/post/7301907369906880549

- æœ‰ä¸€å¤©ä½“éªŒå…¬å¸é¡¹ç›®ï¼Œå½•åˆ¶ performance æ—¶å€™ï¼Œå‘ç°ä¸€æ®µé¢„æœŸä¹‹å¤–`longtask`ï¼Œæ˜¯ä¸€ä¸ªç­›é€‰é¡¹ï¼Œä½¿ç”¨ ui åº“çš„ treeSelect ç»„ä»¶æ¸²æŸ“çš„(å¤§ä½“æ ·å¼å¦‚ä¸‹é¢æˆªå›¾)ï¼Œç‚¹è¿™ä¸ªç­›é€‰é¡¹åœ¨å…¶è¿›è¡Œæ¸²æŸ“æ—¶æœ‰ä¸€æ®µæ¯”è¾ƒå¤¸å¼ çš„ longtaskï¼Œè€—æ—¶é«˜è¾¾ 600ms å·¦å³ã€‚

äºŒï¼šé—®é¢˜è§£å†³
æ­¤æ®µ lontask çš„ç”±æ¥ä¸»è¦æ˜¯ä¸‰ä¸ªåŸå› ï¼š

- æ˜¯ä¸€ä¸ªå¤§å¯¹è±¡
- è¿™ä¸ªå¤§å¯¹è±¡ç»è¿‡ mobx åŒ…è£…ï¼Œç»™å¯¹è±¡é€’å½’çš„åŠ äº†å±‚å±‚ä»£ç† proxyã€‚å–å€¼æ—¶å€™è‡ªç„¶å¤šä¸€å±‚ã€‚
- ui åº“çš„ treeSelect ç»„ä»¶é‡Œåœ¨è¿›è¡Œ treeData çš„ isEqual æ¯”è¾ƒæ—¶å€™ï¼Œä¸‰æ¬¡è°ƒç”¨ã€‚

é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œè§£å†³åŠæ³•ä¹Ÿæ¯”è¾ƒç®€å•äº†ï¼š

- å°†æ­¤ç­›é€‰é¡¹çš„å¤§å¯¹è±¡ï¼Œè®¾ç½®ä¸ºä¸å¯è§‚å¯Ÿï¼Œå»æ‰ proxyã€‚
- ç»„ä»¶åº“å¯¹ treeSelect ç»„ä»¶è¿›è¡Œä¿®å¤ï¼Œå°†ä¸‰æ¬¡ isEqual çš„è°ƒç”¨æ”¹ä¸ºä¸€æ¬¡è°ƒç”¨å³å¯ã€‚

### é‚£ä¸ªåˆ†äº«å¼¹çª—åº”è¯¥ä¹Ÿæ˜¯ longtask

## é¹å‘¨è€å¸ˆä¹Ÿå¾ˆå¥½

å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ¦‚è§ˆ
è¿˜æ˜¯çœ‹é¹å‘¨è€å¸ˆ https://www.bilibili.com/video/BV1KR4y1L7TK
å°æ»¡çš„ http1-http2 &æµè§ˆå™¨ç¼“å­˜ï¼ˆé€šä¿—æ˜“æ‡‚ï¼‰https://xiaoman.blog.csdn.net/article/details/125568128

## å¯¼èˆª 2

https://juejin.cn/post/7197025946918502456

cmd + shift + p => fps

Performance å¯¹è±¡https://www.bilibili.com/video/BV1wP4y187fJ

https://www.bilibili.com/video/BV1Pr4y1N7QZ

å‰ç«¯é¡µé¢æ€§èƒ½æµ‹è¯•å·¥å…· lighthouse
https://www.bilibili.com/video/BV1bm4y1S7MXï¼ˆä¸€èˆ¬åªæ˜¯ä»‹ç»äº†æ¦‚å¿µï¼Œæ²¡æœ‰è°ƒè¯•ã€‚1.9*ï¼‰

æé¹å‘¨ 13.ä½¿ç”¨æµè§ˆå™¨ DevTools åˆ†ææ€§èƒ½-Performance é¢æ¿ https://www.bilibili.com/video/BV1C8411V7y2

pagespeed æ•™ç¨‹
https://www.youtube.com/watch?v=PU10N-uTFmg
